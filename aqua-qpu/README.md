# AQUA QPU Scaffold

## Prereqs
- JDK 21, Gradle wrapper
- .NET 8 SDK
- buf CLI (https://buf.build)

## Proto
```bash
make proto.lint
make proto.gen   # outputs stubs under ./gen (not committed)
```

## Run services
```bash
make build.java && make run.java
CONTROLPLANE_ADDR=http://localhost:9090 make run.agent
```

## Docker (local stack)
```bash
docker compose up --build
# gRPC on localhost:9090, Postgres on 5432, agent runs once against controlplane
```

## Codegen (without committing generated code)

* Java stubs: generated by Gradle from `../../proto` at build.
* .NET stubs: generated by `Grpc.Tools` at build from shared proto include.

CI runs:

* `proto-check.yml` (buf lint + breaking)
* `build-java.yml`, `build-dotnet.yml`